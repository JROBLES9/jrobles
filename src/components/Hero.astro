---
import { Image } from "astro:assets";
---

<section
  id="inicio"
  class="section-padding bg-gradient-to-b from-[#1B262C] to-[#0F4C75]"
>
  <div class="container-custom">
    <div class="flex flex-col md:flex-row items-center gap-8 md:gap-16">
      <div class="w-full md:w-1/2 order-2 md:order-1">
        <h1
          class="text-4xl md:text-5xl lg:text-6xl font-bold mb-4 text-[#BBE1FA]"
        >
          Josué Robles
        </h1>
        <h2 class="text-xl md:text-2xl font-medium mb-6 text-[#3282B8]">
          Desarrollador Web Full Stack
        </h2>
        <p class="text-lg mb-8 text-[#BBE1FA]/90 max-w-2xl">
          Líder del proyecto ganador a
          <span class="text-[#3282B8] font-bold"
            >MEJOR PROYECTO DE CARRERA 2024</span
          >
          de la Universidad Mesoamericana (de las mas prestigiosas de Guatemala).
        </p>
        
        <!-- Sección "Más sobre mí" mejorada -->
        <div class="mb-8 bg-[#1B262C]/50 rounded-lg border border-[#3282B8]/20 overflow-hidden">
          <button 
            id="aboutMeToggle" 
            class="w-full flex items-center justify-between p-4 text-[#BBE1FA] hover:bg-[#3282B8]/10 transition-colors duration-300 focus:outline-none"
            aria-expanded="false"
            aria-controls="aboutMeContent"
          >
            <span class="text-lg font-medium">Más sobre mí</span>
            <svg 
              id="aboutMeIcon" 
              xmlns="http://www.w3.org/2000/svg" 
              width="20" 
              height="20" 
              viewBox="0 0 24 24" 
              fill="none" 
              stroke="currentColor" 
              stroke-width="2" 
              stroke-linecap="round" 
              stroke-linejoin="round" 
              class="transform transition-transform duration-300"
            >
              <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
          </button>
          
          <div 
            id="aboutMeContent" 
            class="max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
            aria-hidden="true"
          >
            <div class="p-4 space-y-4 border-t border-[#3282B8]/20">
              <div class="flex items-start gap-3">
                <div class="text-[#3282B8] mt-1 flex-shrink-0">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                    <circle cx="9" cy="7" r="4"></circle>
                    <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                  </svg>
                </div>
                <p class="text-[#BBE1FA]/90">
                  Experiencia en toma de requerimientos, análisis de necesidades de los usuarios y trabajo en equipo.
                </p>
              </div>
              
              <div class="flex items-start gap-3">
                <div class="text-[#3282B8] mt-1 flex-shrink-0">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                  </svg>
                </div>
                <p class="text-[#BBE1FA]/90">
                  Comunicación efectiva con personas de agendas ocupadas y habilidad para coordinar equipos multidisciplinarios.
                </p>
              </div>
              
              <div class="flex items-start gap-3">
                <div class="text-[#3282B8] mt-1 flex-shrink-0">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sparkles">
                    <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"></path>
                  </svg>
                </div>
                <p class="text-[#BBE1FA]/90">
                  Trabajo cooperativo con herramientas de IA como Cursor y Copilot para aumentar la productividad y calidad del código.
                </p>
              </div>
            </div>
          </div>
        </div>
        
        <div class="flex flex-wrap gap-4">
          <a href="#proyectos" class="btn-primary group relative overflow-hidden">
            <span class="relative z-10">Ver Proyectos</span>
            <span class="absolute inset-0 bg-[#0F4C75] transform scale-x-0 origin-left transition-transform duration-300 group-hover:scale-x-100"></span>
          </a>
          <a
            href="#contacto"
            class="border border-[#3282B8] text-[#BBE1FA] hover:bg-[#3282B8]/20 font-medium py-2 px-6 rounded-md transition-colors duration-300"
          >
            Contactar
          </a>
        </div>
      </div>
      <div class="w-full md:w-1/2 order-1 md:order-2 flex justify-center">
        <div
          class="relative w-64 h-64 md:w-80 md:h-80 rounded-full overflow-hidden shadow-lg border-4 border-[#3282B8] transform transition-transform duration-500 hover:scale-105"
        >
          <img
            src="/josue.png?height=320&width=320"
            alt="Josué Robles"
            class="w-full h-full object-cover"
            width="320"
            height="320"
          />
          <div class="absolute inset-0 bg-gradient-to-t from-[#1B262C]/50 to-transparent"></div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('astro:page-load', () => {
    const aboutMeToggle = document.getElementById('aboutMeToggle');
    const aboutMeContent = document.getElementById('aboutMeContent');
    const aboutMeIcon = document.getElementById('aboutMeIcon');
    
    if (aboutMeToggle && aboutMeContent && aboutMeIcon) {
      aboutMeToggle.addEventListener('click', () => {
        const expanded = aboutMeToggle.getAttribute('aria-expanded') === 'true';
        
        // Actualizar atributos ARIA
        aboutMeToggle.setAttribute('aria-expanded', expanded ? 'false' : 'true');
        aboutMeContent.setAttribute('aria-hidden', expanded ? 'true' : 'false');
        
        // Animar la rotación del icono
        aboutMeIcon.classList.toggle('rotate-180');
        
        // Animar la altura del contenido
        if (expanded) {
          aboutMeContent.style.maxHeight = '0';
        } else {
          aboutMeContent.style.maxHeight = aboutMeContent.scrollHeight + 'px';
        }
      });
    }
  });
</script>